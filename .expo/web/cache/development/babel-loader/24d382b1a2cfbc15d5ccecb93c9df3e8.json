{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _taggedTemplateLiteralLoose from \"@babel/runtime/helpers/taggedTemplateLiteralLoose\";\n\nvar _templateObject;\n\nimport React, { useContext, useState, useEffect } from \"react\";\nimport MapView from \"react-native-maps\";\nimport styled from \"styled-components/native\";\nimport { LocationContext } from \"../../../services/location/location.context\";\nimport { RestaurantsContext } from \"../../../services/restaurants/restaurants.context\";\nimport { Search } from \"../components/search.component\";\nimport { MapCallout } from \"../components/map-callout.component\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar Map = styled(MapView)(_templateObject || (_templateObject = _taggedTemplateLiteralLoose([\"\\n  height: 100%;\\n  width: 100%;\\n\"])));\nexport var MapScreen = function MapScreen(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useContext = useContext(LocationContext),\n      location = _useContext.location;\n\n  var _useContext2 = useContext(RestaurantsContext),\n      _useContext2$restaura = _useContext2.restaurants,\n      restaurants = _useContext2$restaura === void 0 ? [] : _useContext2$restaura;\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      latDelta = _useState2[0],\n      setLatDelta = _useState2[1];\n\n  var lat = location.lat,\n      lng = location.lng,\n      viewport = location.viewport;\n  useEffect(function () {\n    var northeastLat = viewport.northeast.lat;\n    var southwestLat = viewport.southwest.lat;\n    setLatDelta(northeastLat - southwestLat);\n  }, [location, viewport]);\n  return _jsxs(_Fragment, {\n    children: [_jsx(Search, {}), _jsx(Map, {\n      region: {\n        latitude: lat,\n        longitude: lng,\n        latitudeDelta: latDelta,\n        longitudeDelta: 0.02\n      },\n      children: restaurants.map(function (restaurant) {\n        return _jsx(MapView.Marker, {\n          title: restaurant.name,\n          coordinate: {\n            latitude: restaurant.geometry.location.lat,\n            longitude: restaurant.geometry.location.lng\n          },\n          children: _jsx(MapView.Callout, {\n            onPress: function onPress() {\n              return navigation.navigate(\"RestaurantDetail\", {\n                restaurant: restaurant\n              });\n            },\n            children: _jsx(MapCallout, {\n              restaurant: restaurant\n            })\n          })\n        }, restaurant.name);\n      })\n    })]\n  });\n};","map":{"version":3,"names":["React","useContext","useState","useEffect","MapView","styled","LocationContext","RestaurantsContext","Search","MapCallout","Map","MapScreen","navigation","location","restaurants","latDelta","setLatDelta","lat","lng","viewport","northeastLat","northeast","southwestLat","southwest","latitude","longitude","latitudeDelta","longitudeDelta","map","restaurant","name","geometry","navigate"],"sources":["E:/Final projects/react-native/MealsApp_/MealsApp/src/features/map/screens/map.screen.js"],"sourcesContent":["import React, { useContext, useState, useEffect } from \"react\";\r\nimport MapView from \"react-native-maps\";\r\nimport styled from \"styled-components/native\";\r\nimport { LocationContext } from \"../../../services/location/location.context\";\r\nimport { RestaurantsContext } from \"../../../services/restaurants/restaurants.context\";\r\n\r\nimport { Search } from \"../components/search.component\";\r\nimport { MapCallout } from \"../components/map-callout.component\";\r\n\r\n\r\nconst Map = styled(MapView)`\r\n  height: 100%;\r\n  width: 100%;\r\n`;\r\n\r\n\r\nexport const MapScreen = ({ navigation }) => {\r\n  const { location } = useContext(LocationContext);\r\n  const { restaurants = [] } = useContext(RestaurantsContext);\r\n\r\n  const [latDelta, setLatDelta] = useState(0);   /// for zooming into the map\r\n\r\n  const { lat, lng, viewport } = location;\r\n\r\n  useEffect(() => {\r\n    const northeastLat = viewport.northeast.lat;\r\n    const southwestLat = viewport.southwest.lat;\r\n\r\n    setLatDelta(northeastLat - southwestLat);\r\n  }, [location, viewport]);\r\n\r\n  return (\r\n    <>\r\n      <Search />\r\n      <Map\r\n        region={{\r\n          latitude: lat,\r\n          longitude: lng,\r\n          latitudeDelta: latDelta,\r\n          longitudeDelta: 0.02,\r\n        }}\r\n      >\r\n        {restaurants.map((restaurant) => {\r\n          return (\r\n            <MapView.Marker\r\n              key={restaurant.name}\r\n              title={restaurant.name}\r\n              coordinate={{\r\n                latitude: restaurant.geometry.location.lat,\r\n                longitude: restaurant.geometry.location.lng,\r\n              }}\r\n            >\r\n                <MapView.Callout\r\n                onPress={() =>\r\n                  navigation.navigate(\"RestaurantDetail\", {\r\n                    restaurant,\r\n                  })\r\n                }\r\n              >\r\n                  <MapCallout restaurant={restaurant} />\r\n                </MapView.Callout>\r\n            </MapView.Marker>\r\n          );\r\n        })}\r\n      </Map>\r\n    </>\r\n  );\r\n};"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,QAA5B,EAAsCC,SAAtC,QAAuD,OAAvD;AACA,OAAOC,OAAP,MAAoB,mBAApB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,SAASC,eAAT;AACA,SAASC,kBAAT;AAEA,SAASC,MAAT;AACA,SAASC,UAAT;;;;AAGA,IAAMC,GAAG,GAAGL,MAAM,CAACD,OAAD,CAAT,6GAAT;AAMA,OAAO,IAAMO,SAAS,GAAG,SAAZA,SAAY,OAAoB;EAAA,IAAjBC,UAAiB,QAAjBA,UAAiB;;EAC3C,kBAAqBX,UAAU,CAACK,eAAD,CAA/B;EAAA,IAAQO,QAAR,eAAQA,QAAR;;EACA,mBAA6BZ,UAAU,CAACM,kBAAD,CAAvC;EAAA,yCAAQO,WAAR;EAAA,IAAQA,WAAR,sCAAsB,EAAtB;;EAEA,gBAAgCZ,QAAQ,CAAC,CAAD,CAAxC;EAAA;EAAA,IAAOa,QAAP;EAAA,IAAiBC,WAAjB;;EAEA,IAAQC,GAAR,GAA+BJ,QAA/B,CAAQI,GAAR;EAAA,IAAaC,GAAb,GAA+BL,QAA/B,CAAaK,GAAb;EAAA,IAAkBC,QAAlB,GAA+BN,QAA/B,CAAkBM,QAAlB;EAEAhB,SAAS,CAAC,YAAM;IACd,IAAMiB,YAAY,GAAGD,QAAQ,CAACE,SAAT,CAAmBJ,GAAxC;IACA,IAAMK,YAAY,GAAGH,QAAQ,CAACI,SAAT,CAAmBN,GAAxC;IAEAD,WAAW,CAACI,YAAY,GAAGE,YAAhB,CAAX;EACD,CALQ,EAKN,CAACT,QAAD,EAAWM,QAAX,CALM,CAAT;EAOA,OACE;IAAA,WACE,KAAC,MAAD,KADF,EAEE,KAAC,GAAD;MACE,MAAM,EAAE;QACNK,QAAQ,EAAEP,GADJ;QAENQ,SAAS,EAAEP,GAFL;QAGNQ,aAAa,EAAEX,QAHT;QAINY,cAAc,EAAE;MAJV,CADV;MAAA,UAQGb,WAAW,CAACc,GAAZ,CAAgB,UAACC,UAAD,EAAgB;QAC/B,OACE,KAAC,OAAD,CAAS,MAAT;UAEE,KAAK,EAAEA,UAAU,CAACC,IAFpB;UAGE,UAAU,EAAE;YACVN,QAAQ,EAAEK,UAAU,CAACE,QAAX,CAAoBlB,QAApB,CAA6BI,GAD7B;YAEVQ,SAAS,EAAEI,UAAU,CAACE,QAAX,CAAoBlB,QAApB,CAA6BK;UAF9B,CAHd;UAAA,UAQI,KAAC,OAAD,CAAS,OAAT;YACA,OAAO,EAAE;cAAA,OACPN,UAAU,CAACoB,QAAX,CAAoB,kBAApB,EAAwC;gBACtCH,UAAU,EAAVA;cADsC,CAAxC,CADO;YAAA,CADT;YAAA,UAOE,KAAC,UAAD;cAAY,UAAU,EAAEA;YAAxB;UAPF;QARJ,GACOA,UAAU,CAACC,IADlB,CADF;MAoBD,CArBA;IARH,EAFF;EAAA,EADF;AAoCD,CAnDM"},"metadata":{},"sourceType":"module"}