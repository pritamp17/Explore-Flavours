{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useContext, createContext, useEffect } from \"react\";\nimport { restaurantsRequest, restaurantsTransform } from \"./restaurants.service\";\nimport { LocationContext } from \"../location/location.context\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport var RestaurantsContext = createContext();\nexport var RestaurantsContextProvider = function RestaurantsContextProvider(_ref) {\n  var children = _ref.children;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      restaurants = _useState2[0],\n      setRestaurants = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isLoading = _useState4[0],\n      setIsLoading = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      error = _useState6[0],\n      setError = _useState6[1];\n\n  var _useContext = useContext(LocationContext),\n      location = _useContext.location;\n\n  var retrieveRestaurants = function retrieveRestaurants(loc) {\n    setIsLoading(true);\n    setRestaurants([]);\n    setTimeout(function () {\n      restaurantsRequest(loc).then(restaurantsTransform).then(function (results) {\n        setIsLoading(false);\n        setRestaurants(results);\n      }).catch(function (err) {\n        setIsLoading(false);\n        setError(err);\n      });\n    }, 2000);\n  };\n\n  useEffect(function () {\n    if (location) {\n      var locationString = location.lat + \",\" + location.lng;\n      retrieveRestaurants(locationString);\n    }\n  }, [location]);\n  return _jsx(RestaurantsContext.Provider, {\n    value: {\n      restaurants: restaurants,\n      isLoading: isLoading,\n      error: error\n    },\n    children: children\n  });\n};","map":{"version":3,"names":["React","useState","useContext","createContext","useEffect","restaurantsRequest","restaurantsTransform","LocationContext","RestaurantsContext","RestaurantsContextProvider","children","restaurants","setRestaurants","isLoading","setIsLoading","error","setError","location","retrieveRestaurants","loc","setTimeout","then","results","catch","err","locationString","lat","lng"],"sources":["E:/Final projects/react-native/MealsApp_/MealsApp/src/services/restaurants/restaurants.context.js"],"sourcesContent":["import React, {\r\n  useState,\r\n  useContext,\r\n  createContext,\r\n  useEffect,\r\n} from \"react\";\r\n\r\nimport { restaurantsRequest, restaurantsTransform } from \"./restaurants.service\";\r\nimport { LocationContext } from \"../location/location.context\";\r\n\r\nexport const RestaurantsContext = createContext();\r\n\r\nexport const RestaurantsContextProvider = ({ children }) => {\r\n\r\n    const [restaurants, setRestaurants] = useState([]);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [error, setError] = useState(null);\r\n    const { location } = useContext(LocationContext);\r\n\r\n    const retrieveRestaurants = (loc) => {\r\n        setIsLoading(true);\r\n        setRestaurants([]);\r\n\r\n        setTimeout(() => {\r\n        restaurantsRequest(loc)\r\n        .then(restaurantsTransform)\r\n        .then((results) => {\r\n          setIsLoading(false);\r\n          setRestaurants(results);\r\n        })\r\n        .catch((err) => {\r\n          setIsLoading(false);\r\n          setError(err);\r\n        });\r\n    }, 2000);\r\n    };\r\n\r\n    useEffect(() => {\r\n      if (location) {\r\n        const locationString = `${location.lat},${location.lng}`;\r\n        retrieveRestaurants(locationString);\r\n      }\r\n    }, [location]);\r\n\r\n      \r\n    return (\r\n      <RestaurantsContext.Provider\r\n        value={{\r\n          restaurants,\r\n        isLoading,\r\n        error,\r\n        }}\r\n      >\r\n        {children}\r\n      </RestaurantsContext.Provider>\r\n    );\r\n  };"],"mappings":";AAAA,OAAOA,KAAP,IACEC,QADF,EAEEC,UAFF,EAGEC,aAHF,EAIEC,SAJF,QAKO,OALP;AAOA,SAASC,kBAAT,EAA6BC,oBAA7B;AACA,SAASC,eAAT;;AAEA,OAAO,IAAMC,kBAAkB,GAAGL,aAAa,EAAxC;AAEP,OAAO,IAAMM,0BAA0B,GAAG,SAA7BA,0BAA6B,OAAkB;EAAA,IAAfC,QAAe,QAAfA,QAAe;;EAExD,gBAAsCT,QAAQ,CAAC,EAAD,CAA9C;EAAA;EAAA,IAAOU,WAAP;EAAA,IAAoBC,cAApB;;EACA,iBAAkCX,QAAQ,CAAC,KAAD,CAA1C;EAAA;EAAA,IAAOY,SAAP;EAAA,IAAkBC,YAAlB;;EACA,iBAA0Bb,QAAQ,CAAC,IAAD,CAAlC;EAAA;EAAA,IAAOc,KAAP;EAAA,IAAcC,QAAd;;EACA,kBAAqBd,UAAU,CAACK,eAAD,CAA/B;EAAA,IAAQU,QAAR,eAAQA,QAAR;;EAEA,IAAMC,mBAAmB,GAAG,SAAtBA,mBAAsB,CAACC,GAAD,EAAS;IACjCL,YAAY,CAAC,IAAD,CAAZ;IACAF,cAAc,CAAC,EAAD,CAAd;IAEAQ,UAAU,CAAC,YAAM;MACjBf,kBAAkB,CAACc,GAAD,CAAlB,CACCE,IADD,CACMf,oBADN,EAECe,IAFD,CAEM,UAACC,OAAD,EAAa;QACjBR,YAAY,CAAC,KAAD,CAAZ;QACAF,cAAc,CAACU,OAAD,CAAd;MACD,CALD,EAMCC,KAND,CAMO,UAACC,GAAD,EAAS;QACdV,YAAY,CAAC,KAAD,CAAZ;QACAE,QAAQ,CAACQ,GAAD,CAAR;MACD,CATD;IAUH,CAXa,EAWX,IAXW,CAAV;EAYH,CAhBD;;EAkBApB,SAAS,CAAC,YAAM;IACd,IAAIa,QAAJ,EAAc;MACZ,IAAMQ,cAAc,GAAMR,QAAQ,CAACS,GAAf,SAAsBT,QAAQ,CAACU,GAAnD;MACAT,mBAAmB,CAACO,cAAD,CAAnB;IACD;EACF,CALQ,EAKN,CAACR,QAAD,CALM,CAAT;EAQA,OACE,KAAC,kBAAD,CAAoB,QAApB;IACE,KAAK,EAAE;MACLN,WAAW,EAAXA,WADK;MAEPE,SAAS,EAATA,SAFO;MAGPE,KAAK,EAALA;IAHO,CADT;IAAA,UAOGL;EAPH,EADF;AAWD,CA5CI"},"metadata":{},"sourceType":"module"}